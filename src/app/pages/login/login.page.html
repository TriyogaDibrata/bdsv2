<ion-content [fullscreen]="true">
  <div class="flex flex-col flex-grow min-h-full">
    <div class="w-full p-4 plt-ios:pt-10">
      <app-back-button [target]="'landing'"></app-back-button>
    </div>
    <div class="w-full p-6">
      <div class="text-lg font-normal text-white">Badung Digital Signature</div>
      <div class="text-5xl font-bold text-white">Selamat Datang</div>
    </div>
    <div class="flex-grow w-full bg-white rounded-t-2xl">
      <div class="container mx-auto p-4">
        <form [formGroup]="loginForm">
          <div class="my-4 px-2 text-gray-400">Masukan username dan password anda untuk masuk ke aplikasi</div>
          <ion-item lines="none" class="border border-gray-300 rounded-xl my-2"
            [ngClass]="{'border-red-400' : loginForm.get('username')?.invalid && loginForm.get('username')?.dirty || loginForm.get('username')?.touched, 'border-green-400' : loginForm.get('username')?.valid}">
            <ion-icon name="person-outline" class="mr-4"></ion-icon>
            <ion-input type="text" formControlName="username" placeholder="Username"></ion-input>
          </ion-item>

          <ion-item lines="none" class="border border-gray-300 rounded-xl my-2"
            [ngClass]="{'border-red-400' : loginForm.get('password')?.invalid && loginForm.get('password')?.dirty || loginForm.get('password')?.touched, 'border-green-400' : loginForm.get('password')?.valid}">
            <ion-icon name="key-outline" class="mr-4"></ion-icon>
            <ion-input [type]="showPassword ? 'text' : 'password'" formControlName="password"
              placeholder="Password"></ion-input>
            <ion-button fill="clear" (click)="showPassword = !showPassword">
              <ion-icon slot="icon-only" [name]="showPassword ? 'eye-off-outline' : 'eye-outline'"></ion-icon>
            </ion-button>
          </ion-item>

          <ion-item class="flex items-center text-red-500 my-2" lines="none" *ngIf="error">
            <ion-icon slot="start" class="mr-2" name="alert-circle-outline" color="danger"></ion-icon>
            <ion-text>There is no one who loves pain itself!</ion-text>
          </ion-item>

          <ion-button expand="block" mode="ios" [disabled]="loginForm.invalid" (click)="login()">Masuk</ion-button>
        </form>

        <!-- <div class="flex justify-end mt-4">
          <ion-button fill="clear">Lupa Password ?</ion-button>
        </div> -->
      </div>
    </div>
  </div>
</ion-content>